<?xml version="1.0"?>
<ejb-jar
       xmlns="http://java.sun.com/xml/ns/javaee"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://java.sun.com/xml/ns/javaee
                           http://java.sun.com/xml/ns/javaee/ejb-jar_3_0.xsd"
       version="3.0">
   <enterprise-beans>
      <session>
         <ejb-name>TravelAgentBean</ejb-name>
         <remote>com.titan.travelagent.TravelAgentRemote</remote>
         <ejb-class>com.titan.travelagent.TravelAgentBean</ejb-class>
         <session-type>Stateful</session-type>
	 <remove-method>
            <bean-method>
	       <method-name>bookPassage</method-name>
           </bean-method>
	   <retain-if-exception>false</retain-if-exception>
         </remove-method>
         <ejb-local-ref>
             <ejb-ref-name>ejb/PaymentProcessor</ejb-ref-name>
             <ejb-ref-type>Session</ejb-ref-type>
             <local>com.titan.processpayment.ProcessPaymentLocal</local>
             <injection-target>
                <injection-target-class>
                   com.titan.travelagent.TravelAgentBean
                </injection-target-class>
                <injection-target-name>processPayment</injection-target-name>
             </injection-target>
          </ejb-local-ref>
          <persistence-context-ref>
             <persistence-context-ref-name>persistence/titan</persistence-context-ref-name>
             <persistence-unit-name>titan</persistence-unit-name>
             <injection-target>
                 <injection-target-class>
                    com.titan.travelagent.TravelAgentBean
                 </injection-target-class>
                 <injection-target-name>entityManager</injection-target-name>
             </injection-target>
          </persistence-context-ref>
       </session>
   </enterprise-beans>
</ejb-jar>
